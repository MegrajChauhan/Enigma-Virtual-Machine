#include "../Manager/EnigmaManager.hpp"

//PROGRAM: A program that adds two numbers and stores it in memory
// 010010 0000000000000000000000000000000000000000000000001000101 000 ; load enia 69
// 010010 0000000000000000000000000000000000000000000000000011111 001 ; load enib 31
// 000001 00 00000000000000000000000000000000000000000000000000 000 001; add enia enib
// 101100 0000000000000000000000000000000000000000000000000000000 000 ; save enia
// 000100 0000000000000000000000000000000000000000000000000111111111 ; the address to save to[ 1 byte: address 511]
// 000000 0000000000000000000000000000000000000000000000000000000000 ; nop
// 101101 0000000000000000000000000000000000000000000000000000000000 ; halt

int main()
{
  std::vector<std::uint64_t> instructions = {
    0b0100100000000000000000000000000000000000000000000000001000101000,
    0b0100100000000000000000000000000000000000000000000000000011111001,
    0b0000010000000000000000000000000000000000000000000000000000000001,
    0b1011000000000000000000000000000000000000000000000000000000000000,
    0b0001000000000000000000000000000000000000000000000000000111111111,
    0b0000000000000000000000000000000000000000000000000000000000000000,
    0b1011010000000000000000000000000000000000000000000000000000000000,
  };
  Manager::load_instructions(instructions);
  Manager::start_execution();
  std::cout<<CPU::data_memory.mem_read8(0b111111111)<<std::endl;
}